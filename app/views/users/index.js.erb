function updateUsers() {
  const usersContainer = document.querySelector('#users-container');
  if (usersContainer) {
    usersContainer.innerHTML = "<%= j render 'users', users: @users %>";
  }
}

function updateQueryParameters() {
  const form = document.querySelector('#search_query');
  if (form) {
    form.value = "";
    form.value = "<%= @query %>";
  }
}

function closeModal() {
  const close = document.querySelector('button.close')
  if (close) {
    close.click();
  }
}

function updateQueryIndicator() {
  const indication = document.querySelector('#user-query-indicator');
  if (indication) {
    indication.innerText = "<%= @users.count %> players <%= @indication %>";
  }
}

updateUsers();
updateQueryParameters();
closeModal();
updateQueryIndicator();
